package core.mappers;

import api.dto.ConditionDTO;
import api.dto.PatientDTO;
import data.entities.Patient;

import java.util.List;
import java.util.stream.Collectors;

public class PatientMapper {

    public static PatientDTO toDTO(Patient patient) {
        if (patient == null) return null;

        return new PatientDTO(
                patient.getId(),
                patient.getFullName(),
                patient.getEmail(),
                patient.getConditions()
                        .stream()
                        .map(ConditionMapper::toDTO)
                        .toList(),
                patient.getEncounters()
                        .stream()
                        .map(EncounterMapper::toDTO)
                        .toList(),
                patient.getObservations()
                        .stream()
                        .map(ObservationMapper::toDTO)
                        .toList()
        );
    }
}
